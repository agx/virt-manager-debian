From 01a5f7597878b1734223b339ec4bb0d48984c8ca Mon Sep 17 00:00:00 2001
From: =?utf-8?q?Guido=20G=C3=BCnther?= <agx@sigxcpu.org>
Date: Thu, 2 Oct 2008 16:35:53 +0200
Subject: [PATCH] clear list of optical devices
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 8bit

HG changeset patch
User "Guido GÃ¼nther <agx@sigxcpu.org>"
Date 1222955007 -7200
Node ID 003db80b54c615696cac682c1c74f696f1f30d45
Parent  4fd6f98665254b623268f6019ec6ffb72189e82f

otherwise we keep adding the same device over and over again
---
 src/virtManager/opticalhelper.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/src/virtManager/opticalhelper.py b/src/virtManager/opticalhelper.py
index 62ed031..1e394dd 100644
--- a/src/virtManager/opticalhelper.py
+++ b/src/virtManager/opticalhelper.py
@@ -45,6 +45,7 @@ class vmmOpticalDriveHelper(gobject.GObject):
         # get a list of optical devices with data discs in, for FV installs
         vollabel = {}
         volpath = {}
+        self.model.clear()
         # Track device add/removes so we can detect newly inserted CD media
         self.hal_iface.connect_to_signal("DeviceAdded", self._device_added)
         self.hal_iface.connect_to_signal("DeviceRemoved", self._device_removed)
-- 
1.6.0.1

