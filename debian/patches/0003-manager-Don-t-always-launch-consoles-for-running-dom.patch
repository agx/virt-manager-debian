From: Cole Robinson <crobinso@redhat.com>
Date: Fri, 21 Jan 2011 14:43:19 -0500
Subject: [PATCH] manager: Don't always launch consoles for running domains, dumb regression

Origin: upstream, http://hg.fedorahosted.org/hg/virt-manager/rev/f2b2601affd1
---
 src/virtManager/manager.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/src/virtManager/manager.py b/src/virtManager/manager.py
index b5325a9..e38f93e 100644
--- a/src/virtManager/manager.py
+++ b/src/virtManager/manager.py
@@ -721,6 +721,7 @@ class vmmManager(vmmGObjectUI):
         if (self.config.get_console_popup() != 2 or
             vm.is_management_domain()):
             self.emit("action-refresh-console", uri, vmuuid)
+            return
 
         # user has requested consoles on all vms
         gtype = vm.get_graphics_console()[0]
-- 
